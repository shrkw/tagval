"use strict";function _possibleConstructorReturn(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function _inherits(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}function _classCallCheck(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function option_unexpected_tag_found(t){throw new Error("TagVal.Option Error: Unexpected tag was found: "+t.tag+".")}function _Some(t){return new Option(t)}function _None(){return new Option}function status_unexpected_tag_found(t){throw new Error("TagVal.Status Error: Unexpected tag was found: "+t.tag+".")}function Success(t){return new Status("Success",t)}function Failure(t){return new Status("Failure",t)}function match(t){return function(n,e){var r=n[t.tag];return void 0!==r?r.call(t,t.val):void 0!==e?e.call(t):void 0}}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),Matchable=function(){function t(n,e){_classCallCheck(this,t),this.tag=n,this.val=e}return _createClass(t,[{key:"match",value:function(t,n){var e=t[this.tag];return void 0!==e?e.call(this,this.val):void 0!==n?n.call(this,this.val):void 0}},{key:"when",value:function(t){var n=this;return this.match(t,function(){return n})}},{key:"toString",value:function(){return this.tag+"("+this.val+")"}},{key:"equal",value:function(t){return this.tag===t.tag?this.valEqual(t):!1}},{key:"valEqual",value:function(t){return this.val===t.val}}]),t}(),Option=function(t){function n(t){if(_classCallCheck(this,n),void 0!==t&&null!==t)var e=_possibleConstructorReturn(this,Object.getPrototypeOf(n).call(this,"Some",t));else var e=_possibleConstructorReturn(this,Object.getPrototypeOf(n).call(this,"None"));return _possibleConstructorReturn(e)}return _inherits(n,t),_createClass(n,[{key:"map",value:function(t){var n=this;return this.match({Some:function(n){return _Some(t(n))},None:function(){return _None()}},function(){return option_unexpected_tag_found(n)})}},{key:"getOrElse",value:function(t){var n=this;return this.match({Some:function(t){return t},None:function(){return t}},function(){return option_unexpected_tag_found(n)})}},{key:"getOrElseF",value:function(t){var n=this;return this.match({Some:function(t){return t},None:function(){return t()}},function(){return option_unexpected_tag_found(n)})}},{key:"toArray",value:function(){var t=this;return this.match({Some:function(t){return[t]},None:function(){return[]}},function(){return option_unexpected_tag_found(t)})}},{key:"toStatus",value:function(){var t=this,n=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return this.match({Some:function(t){return new Status("Success",t)},None:function(){return new Status("Failure",n)}},function(){return option_unexpected_tag_found(t)})}},{key:"toValue",value:function(){var t=this;return this.match({Some:function(t){return t},None:function(){return void 0}},function(){return option_unexpected_tag_found(t)})}},{key:"valEqual",value:function(t){return this.match({Some:function(n){return n===t.val},None:function(){return!0}})}},{key:"mapEqual",value:function(t,n){return this.tag===t.tag?this.match({Some:function(e){return n(e,t.val)},None:function(){return!0}}):!1}}]),n}(Matchable);Option.fromValue=function(t){return new Option(t)},Option.fromBool=function(t){return t?_Some(!0):_None()};var Status=function(t){function n(){return _classCallCheck(this,n),_possibleConstructorReturn(this,Object.getPrototypeOf(n).apply(this,arguments))}return _inherits(n,t),_createClass(n,[{key:"getOrThrow",value:function(){var t=this;return this.match({Success:function(t){return t},Failure:function(t){throw t}},function(){return status_unexpected_tag_found(t)})}},{key:"toOption",value:function(){var t=this;return this.match({Success:function(t){return _Some(t)},Failure:function(){return _None()}},function(){return status_unexpected_tag_found(t)})}}]),n}(Matchable);Status.trying=function(t){try{return Success(t())}catch(n){return Failure(n)}};var optionFrom=Option.fromValue,withTry=Status.trying,TagVal={Matchable:Matchable,Option:Option,Status:Status,Some:_Some,None:_None,Success:Success,Failure:Failure,match:match,optionFrom:Option.fromValue,withTry:Status.trying};void 0!==window&&(window.TagVal=TagVal),exports.Matchable=Matchable,exports.Option=Option,exports.Status=Status,exports.Some=_Some,exports.None=_None,exports.Success=Success,exports.Failure=Failure,exports.match=match,exports.optionFrom=optionFrom,exports.withTry=withTry,exports.TagVal=TagVal;