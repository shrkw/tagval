"use strict";function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function option_unexpected_tag_found(t){throw new Error("TagVal.Option Error: Unexpected tag was found: "+t.tag+".")}function _Some(t){return new Option(t)}function _None(){return new Option}function status_unexpected_tag_found(t){throw new Error("TagVal.Status Error: Unexpected tag was found: "+t.tag+".")}function Success(t){return new Status("Success",t)}function Failure(t){return new Status("Failure",t)}function match(t){return function(e,n){var r=e[t.tag];return void 0!==r?r.call(t,t.val):void 0!==n?n.call(t):void 0}}Object.defineProperty(exports,"__esModule",{value:!0});var _createClass=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),Matchable=function(){function t(e,n){_classCallCheck(this,t),this.tag=e,this.val=n}return _createClass(t,[{key:"match",value:function(t,e){var n=t[this.tag];return void 0!==n?n.call(this,this.val):void 0!==e?e.call(this,this.val):void 0}},{key:"when",value:function(t){var e=this;return this.match(t,function(){return e})}},{key:"toString",value:function(){return this.tag+"("+this.val+")"}},{key:"equal",value:function(t){return this.tag===t.tag?this.valEqual(t):!1}},{key:"valEqual",value:function(t){return this.val===t.val}}]),t}(),Option=function(t){function e(t){if(_classCallCheck(this,e),void 0!==t)var n=_possibleConstructorReturn(this,Object.getPrototypeOf(e).call(this,"Some",t));else var n=_possibleConstructorReturn(this,Object.getPrototypeOf(e).call(this,"None"));return _possibleConstructorReturn(n)}return _inherits(e,t),_createClass(e,[{key:"map",value:function(t){var e=this;return this.match({Some:function(e){return _Some(t(e))},None:function(){return _None()}},function(){return option_unexpected_tag_found(e)})}},{key:"getOrElse",value:function(t){var e=this;return this.match({Some:function(t){return t},None:function(){return t}},function(){return option_unexpected_tag_found(e)})}},{key:"getOrElseF",value:function(t){var e=this;return this.match({Some:function(t){return t},None:function(){return t()}},function(){return option_unexpected_tag_found(e)})}},{key:"toArray",value:function(){var t=this;return this.match({Some:function(t){return[t]},None:function(){return[]}},function(){return option_unexpected_tag_found(t)})}},{key:"toStatus",value:function(){var t=this,e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];return this.match({Some:function(t){return new Status("Success",t)},None:function(){return new Status("Failure",e)}},function(){return option_unexpected_tag_found(t)})}},{key:"toValue",value:function(){var t=this;return this.match({Some:function(t){return t},None:function(){return void 0}},function(){return option_unexpected_tag_found(t)})}},{key:"valEqual",value:function(t){return this.match({Some:function(e){return e===t.val},None:function(){return!0}})}},{key:"mapEqual",value:function(t,e){return this.tag===t.tag?this.match({Some:function(n){return e(n,t.val)},None:function(){return!0}}):!1}}]),e}(Matchable);Option.fromValue=function(t){return new Option(t)},Option.fromBool=function(t){return t?_Some(!0):_None()};var Status=function(t){function e(){return _classCallCheck(this,e),_possibleConstructorReturn(this,Object.getPrototypeOf(e).apply(this,arguments))}return _inherits(e,t),_createClass(e,[{key:"getOrThrow",value:function(){var t=this;return this.match({Success:function(t){return t},Failure:function(t){throw t}},function(){return status_unexpected_tag_found(t)})}},{key:"toOption",value:function(){var t=this;return this.match({Success:function(t){return _Some(t)},Failure:function(){return _None()}},function(){return status_unexpected_tag_found(t)})}}]),e}(Matchable);Status.trying=function(t){try{return Success(t())}catch(e){return Failure(e)}};var optionFrom=Option.fromValue,withTry=Status.trying,TagVal={Matchable:Matchable,Option:Option,Status:Status,Some:_Some,None:_None,Success:Success,Failure:Failure,match:match,optionFrom:Option.fromValue,withTry:Status.trying};exports.Matchable=Matchable,exports.Option=Option,exports.Status=Status,exports.Some=_Some,exports.None=_None,exports.Success=Success,exports.Failure=Failure,exports.match=match,exports.optionFrom=optionFrom,exports.withTry=withTry,exports.TagVal=TagVal;